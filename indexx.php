<?
$dl = "iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTM5jWRgMAAAAVdEVYdENyZWF0aW9uIFRpbWUAMi8xNy8wOCCcqlgAAAQRdEVYdFhNTDpjb20uYWRvYmUueG1wADw/eHBhY2tldCBiZWdpbj0iICAgIiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDQuMS1jMDM0IDQ2LjI3Mjk3NiwgU2F0IEphbiAyNyAyMDA3IDIyOjExOjQxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4YXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iPgogICAgICAgICA8eGFwOkNyZWF0b3JUb29sPkFkb2JlIEZpcmV3b3JrcyBDUzM8L3hhcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhhcDpDcmVhdGVEYXRlPjIwMDgtMDItMTdUMDI6MzY6NDVaPC94YXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhhcDpNb2RpZnlEYXRlPjIwMDgtMDMtMjRUMTk6MDA6NDJaPC94YXA6TW9kaWZ5RGF0ZT4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDUdUmQAAAE7SURBVDiNpZM7TsNAEIb/8WPNwwJKh5qGBiNxAiqa+AjQ5iCufQBaOILTUHEBIyEaGmoIVAkyEHshQ7HedSzbUiSvtNqZ0fzfzmhniZkxZFmD1AAcbRCRCQYpdZY1i9gk6cqdrkQAuD1n5H/K9m3g8p4683oBH7/AolT2vujLWgMEKaUAxtp/l8C8AizJ5OjWpgAiACDdy2hq8dVZs/XFd1XBTvPWmwfC23hFDQARIUiJL05qSP6lTn+3Ft89EWYR17p1gC7z9FjFlp8qtrWn/MdnMi/RC9CQwyPGaq5i1gHj9YU6n7EToCHbvrJ/8uYMbATQEKAtbgAqP2qpN1jMnOo5GGVZdu26LjzPgxACQgh4ngdmhpSytcMwnJgKkiRhKSWKokBZluYsSzVJjuPAtm2ztR/HMdHQ7/wPj7WgYLMWxPQAAAAASUVORK5CYII=";
$drag = "iVBORw0KGgoAAAANSUhEUgAAAAYAAAAKCAQAAAA9B+e4AAAACXBIWXMAAAsTAAALEwEAmpwYAAADGGlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjaY2BgnuDo4uTKJMDAUFBUUuQe5BgZERmlwH6egY2BmYGBgYGBITG5uMAxIMCHgYGBIS8/L5UBFTAyMHy7xsDIwMDAcFnX0cXJlYE0wJpcUFTCwMBwgIGBwSgltTiZgYHhCwMDQ3p5SUEJAwNjDAMDg0hSdkEJAwNjAQMDg0h2SJAzAwNjCwMDE09JakUJAwMDg3N+QWVRZnpGiYKhpaWlgmNKflKqQnBlcUlqbrGCZ15yflFBflFiSWoKAwMD1A4GBgYGXpf8EgX3xMw8BSMDVQYqg4jIKAUICxE+CDEESC4tKoMHJQODAIMCgwGDA0MAQyJDPcMChqMMbxjFGV0YSxlXMN5jEmMKYprAdIFZmDmSeSHzGxZLlg6WW6x6rK2s99gs2aaxfWMPZ9/NocTRxfGFM5HzApcj1xZuTe4FPFI8U3mFeCfxCfNN45fhXyygI7BD0FXwilCq0A/hXhEVkb2i4aJfxCaJG4lfkaiQlJM8JpUvLS19QqZMVl32llyfvIv8H4WtioVKekpvldeqFKiaqP5UO6jepRGqqaT5QeuA9iSdVF0rPUG9V/pHDBYY1hrFGNuayJsym740u2C+02KJ5QSrOutcmzjbQDtXe2sHY0cdJzVnJRcFV3k3BXdlD3VPXS8Tbxsfd99gvwT//ID6wIlBS4N3hVwMfRnOFCEXaRUVEV0RMzN2T9yDBLZE3aSw5IaUNak30zkyLDIzs+ZmX8xlz7PPryjYVPiuWLskq3RV2ZsK/cqSql01jLVedVPrHzbqNdU0n22VaytsP9op3VXUfbpXta+x/+5Em0mzJ/+dGj/t8AyNmf2zvs9JmHt6vvmCpYtEFrcu+bYsc/m9lSGrTq9xWbtvveWGbZtMNm/ZarJt+w6rnft3u+45uy9s/4ODOYd+Hmk/Jn58xUnrU+fOJJ/9dX7SRe1LR68kXv13fc5Nm1t379TfU75/4mHeY7En+59lvhB5efB1/lv5dxc+NH0y/fzq64Lv4T8Ffp360/rP8f9/AA0ADzT6lvFdAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAtSURBVHjanMuxDQAgDMTAC0Oxf52lnjaIDneW5Qo67GIZVIZcZUGn85Sf5wwAW6wMMxeHNEAAAAAASUVORK5CYII=";
$gears = "iVBORw0KGgoAAAANSUhEUgAAABEAAAAoCAYAAAFvHyEJAAABc0lEQVRIx+2Vu0pDQRCGz0NYiCAasNAiKHiBECIkYhERG8EnU/gUbDyWXt7DwjSKErCwsdEUGrwnWZt/k3XPhughiJAUw87O/PvP7JyZPZExJrISJTaACW8SZzoKYADTUYIBeht1Phz4d5xpDMAi8CYp2HwmgXF7wSzwKcn1I+yP75gepJrO29pqnQMSoBZwB4wCNxbsg4ycI8BFN1DRC5f/BvrjEgwAQGWe0BoDx9KngDagLjGSR/V7G5CTYxNYk75iATUZngWOHLaaNSzLsAoUpJfdEPeKaXN4BZ5cwLTWA+BIehYYlK/Zt+4fkqQkcfrblz117WE3jE8yBlTU4nlgFjgXySWwoF/PA3ANZEIkEVACPpy5aWkSm46tqbFNZLIN7ANnDnjLS73s+CrC77gkMXDqPPsG2PBISo7vCjgB4tB1loAXL/U60HBsDREGC5sBqsA7sK6Hx2ZW1bNVVOFvgZluhfVlVyRxz088nJ1/SvIFJGxMewwj+XUAAAAASUVORK5CYII=";
$x = "iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzdFQ0RFMzZEMTdEMTFFMEIwNzJBMzg5RjQxMTQyNjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzdFQ0RFMzdEMTdEMTFFMEIwNzJBMzg5RjQxMTQyNjEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFM0VDNzE2OUQxN0MxMUUwQjA3MkEzODlGNDExNDI2MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFM0VDNzE2QUQxN0MxMUUwQjA3MkEzODlGNDExNDI2MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pk6j2R0AAAB/SURBVHjaYkxLS9vPwMCwcNasWQuANAOQLwCk5gPxRhYgAeYABUFyG4AYpNgApIEJSDgC8QWo6vNQiUSgSRsYoUYpAKn7DBCwACiRCGIwQ+3YDsQSQPwAiB2MjY0fnj179gITkh0g1YYwK4CaAkCSH6B2gIz7AHUDyGECAAEGACoZKiO+Ukh+AAAAAElFTkSuQmCC";

function unstrip_array($array){
	foreach($array as &$val){
		if(is_array($val)){
			$val = unstrip_array($val);
		}else{
			$val = stripslashes($val);
		}
	}
	return $array;
}
if(!empty($_REQUEST["newJSON"])){
	
	$filename = "indexx.php";
	$current = file_get_contents($filename);
	
	$start = strrpos($current, "var jayson");
	$end = strrpos($current, "}];");
	$source = substr($current, $start, ($end-$start+3));
	//echo "starts at ".$start." ends at ".$end."\n";
	//echo "RESULT IS :".$source;
	
	$json =  unstrip_array($_REQUEST["newJSON"]);
	$json = json_encode($json);
	$newJSON = "var jayson = ".$json.";";
	//replace old info with new info and save file
	$current = $json != null ? str_replace($source, $newJSON, $current): $current; 
	file_put_contents($filename, $current);

	die;
}

header('Content-type: text/html; charset=utf-8');?><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<title class="name"></title>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
<script>
var jayson = [{"header":"Billy Rennekamp","data":[["10 Elizabeth St."],["New York, NY 10013"],["billy.rennekamp at gmail"],["<a href=\"\">billyrennekamp.com<\/a>"]]},{"header":"Degrees","data":[["BA","2010","Film &amp; Electronic Art","Bard College"]]},{"header":"Grants & Awards","data":[["2010","Vimeo Awards Winner - Experimental"],["2009","Bard College Junior Fellowship"]]},{"header":"Solo & Partner Shows","data":[["2011","Immediate Release","Booklyn Artist Alliance","Brooklyn, NY","USA"],["2011","SIVI.ME","KlausGallery.net","http:\/\/","www"],["2010","A vs B (w\/ Anne De Vries)","The Future Gallery","Berlin","DE"],["2010","Clover","XPACE Cultural Center","http:\/\/","www"],["2010","WIN WIN","CLEOPATRA'S","Brooklyn, NY","USA"],["2010","BIG HEAD MODE","Bard College","Annandale-On-Hudson, NY","USA"],["2009","Speed Dating \/ Conference Call \u2020 ","Envoy Enterprise\"","New York, NY","USA"],["2009","\u03c4R\u03be\u0394SVR\u039e R\u03b8\u03b8M \u2020","Light Industry","Brooklyn, NY","USA"],["2008","LIXXARD GEAR \u2020","MTAA (Over The Opening)","Brooklyn, NY","USA"]]},{"header":"Group Shows","data":[["2011","Kik In Der Kok","K\u00fcbersensuaalsuse festival","Tallink","EE"],["2011","Youth Culture","The Future Gallery","Berlin","DE"],["2011","LIKE","Vogt Gallery","New York, NY","USA"],["2011","BYOB","Padiglione Internet, La Biennale di Venezia","Venice","IT"],["2011","BYOB","Mu","Eindhoven","NL"],["2011","VPAP","Philidelphia International Festival of the Arts","Philidelphia, PA","USA"],["2010","BYOB","Spencer Brownstone","New York, NY","USA"],["2010","BYOB","Kunsthalle Athena","Athens","GR"],["2010","DES CHAPITRES DU CONFLIT","Former Iraqi Embassy","Berlin","DE"],["2010","Chrystal Gallery","Gentili Apri","Berlin","DE"],["2010","Going Away","Forgotten Bar","Berlin","DE"],["2010","Activities in Space and Time \u2020","Warmgrey","Paris","FR"],["2010","BYOB","Bureau Friederich Project Studio","Berlin","DE"],["2010","Surfing Clubs \u2020","[Plug.In]","Basel","CH"],["2010","Multiplex","PeerToSpace","Munich","DE"],["2010","Sculpture Storage","LA MAMA","New York, NY","USA"],["2010","High Cascades","HighCascades.info","http:\/\/","www"],["2010","Remember 2010","The GallerySpace.info","http:\/\/","www"],["2009","AFK Sculpture Park","Atelierhof Kreuzberg ","Berlin","DE"],["2009","Sobject","mQ gallery","Berlin","DE"],["2009","Forms of Melancholy","Sego Art Center","Provo, UT","USA"],["2009","Let's Meet in Real Life \u2020","Capricious Gallery","Brooklyn, NY","USA"],["2008","Activities in Space and Time \u2020","CareOf Gallery","Milan","IT"],["2007","The Great Internet Sleepover \u2020","Eyebeam","New York, NY","USA"]]},{"header":"Publications","data":[["2011","Dim Tricks","Donnachie, Simianato &amp; Son","Milan","IT"],["2011","TL;DR","Pooool.info","http:\/\/","www"],["2011","Twitter Faves","Travis Hallenbeck","http:\/\/","www"],["2011","Ralphs #2","FYD","New York, NY","USA"],["2010","Startegy Guide","Bard College","Annandale-on-Hudson","USA"],["2009","Ralphs #1","FYD","New York, NY","USA"],["2009","Pink Laser Beam Compendium","Donnachie, Simianato &amp; Son","Milan","IT"],["2009","Bard Papers","Bard College","Annandale-on-Hudson","USA"],["2009","That Is Not Dead","FYD","Berlin","USA"],["2009","Art Camp: Land Art Reader","SB95","New York, NY","USA"],["2009","Art Camp: Sculpture Reader","SB95","New York, NY","USA"],["2009","Art Camp: Painting Reader","SB95","New York, NY","USA"],["2009","Garry's Poster","Garry's","Berlin","DE"],["2009","Clemens Jahn Portraits","SB95","Berlin","DE"]]},{"header":"Bibliography","data":[["Brad Troemel","New Productive Systems","fourninetyone.com","2011"],["Landon Zakheim ","Re-Defining Short Docs","Sundance Film Festival","2011"],["Joachim Lepastier","Un an de vid\u00e9os sur Internet","Cahiers du Cinema \/ N\u00b0662","2011"],["VVORK","A vs B","vvork.com","2010"],["Ceci Moss","1 Question Interview with Billy Rennekamp","rhizome.org","2010"],["Catherine Cochard","Loshadka jusqu\u2019au ","Ars brevis vita longa","2010"],["VVORK","multiplex","vvork.com","2010"],["Annette Hoffmann","Das Netzwerk als Kunstwerk","Artline Kunstmagazin ","2010"],["Karen Archey","Best Link Ever! Centaurs with Tri-Titted Babes and Slim Thug","Art Fag City","2009"],["VVORK","AFK Sculpture Park","vvork.com","2009"],["Ceci Moss","HUGE (2008)","rhizome.org","2009"],["Matthew Rodriguez","Billy Rennekamp, \u201cClover\"","SundanceChannel.com","2009"],["VVORK","Clover","vvork.com","2009"],["John Michael Boling","Shine II (2009)","Rhizome.org","2009"],["Brian Droitcour &amp; Ceci Moss","\u201dIn Real Life\u201d at Capricious Space : A Conversation","rhizome.org","2009"],["Raphael Bastide","Surfin Clubs: Liste non exhaustive des blogs d\u2019art collaboratif"," Ca mange pas de pain","2009"],["Brian Droitcour","Members Only: Loshadka Surfs the Web","Art In America","2009"],["Will","Art Revue: Loshadka at Light Industry","Brooklyn Revue","2009"],["John Michael Boling","There it is (2008)","rhizome.org","2009"],["Marcin Ramocki","Surfing Clubs: organized notes and comments","www","2008"],["Paddy Johnson","Worth Checking Out: Loshadka","Art Fag City","2008"],["John Michael Boling","THIS IS NEVER GOING TO STOP (2007)","rhizome.org","2008"],["Marisa Olson","Lost Not Found: The Circulation of Images in Digital Visual Culture","Words Without Pictures","2007"]]},{"header":"Employment","data":[["Artist Assitant","Raymond Pettibon LLC","New York, NY"],["Intern","Dis Magazine","New York, NY"],["Artist Assistant","JODI","Dortrecht, NL"],["Intern","Art Since the Dummer of '69","New York, NY"],["Intern","JODI","Dordrecht, NL"],["Artist Assistant","AIDS-3D","Berlin, DE"],["Intern","Oliver Laric","Berlin, DE"],["Intern","Cory Arcangel","New York, NY"],["Intern","Rhizome.org","New York, NY"]]},{"header":"Notes","data":[["\u2020 denotes work shown as collective Loshadka"]]}];

		(function($){

			// Custom version of jQuery autoGrowInput by billy rennekamp
			// Based on jQuery autoGrowInput plugin by James Padolsey
			// See related thread: http://stackoverflow.com/questions/931207/is-there-a-jquery-autogrow-plugin-for-text-fields

			$.fn.autoGrowInput = function(o) {
				o = $.extend({
					maxWidth: 1000,
					minWidth: 0,
					comfortZone: 20
					}, o);    
					this.filter('input:text').each(function(){
						var minWidth = o.minWidth || $(this).width(),
						val = '',
						input = $(this),
						testSubject = $('<tester/>').css({
							position: 'absolute',
							top: -9999,
							left: -9999,
							width: 'auto',
							fontSize: "9pt",
							fontFamily: "arial",
							whiteSpace: 'nowrap'
							}),
							check = function() {
								if (val === (val = input.val())) {return;}
								var escaped = val.replace(/&/g, '&amp;').replace(/\s/g,'&nbsp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
								testSubject.html(escaped);   
								// Calculate new width + whether to change
								var testerWidth = testSubject.width(),
								newWidth = (testerWidth + o.comfortZone) >= minWidth ? testerWidth + o.comfortZone : minWidth,
								currentWidth = input.width(),
								isValidWidthChange = (newWidth < currentWidth && newWidth >= minWidth)
								|| (newWidth > minWidth && newWidth < o.maxWidth);
								// Animate width
								if (isValidWidthChange) {
									input.width(newWidth);
								}                        
							};
							$("body").append(testSubject);                 
							$(this).bind('keyup keydown blur update', check);
						});  
						return this;
					};
					})(jQuery);
								/*
			 * Jeditable - jQuery in place edit plugin
			 * Copyright (c) 2006-2009 Mika Tuupola, Dylan Verheul
			 * Licensed under the MIT license:
			 *   http://www.opensource.org/licenses/mit-license.php
			 * Project home:
			 *   http://www.appelsiini.net/projects/jeditable
			 * Based on editable by Dylan Verheul <dylan_at_dyve.net>:
			 *    http://www.dyve.net/jquery/?editable
			 */
			(function($){$.fn.editable=function(target,options){if('disable'==target){$(this).data('disabled.editable',true);return;}
			if('enable'==target){$(this).data('disabled.editable',false);return;}
			if('destroy'==target){$(this).unbind($(this).data('event.editable')).removeData('disabled.editable').removeData('event.editable');return;}
			var settings=$.extend({},$.fn.editable.defaults,{target:target},options);
			var plugin=$.editable.types[settings.type].plugin||function(){};var submit=$.editable.types[settings.type].submit||function(){};
			var buttons=$.editable.types[settings.type].buttons||$.editable.types['defaults'].buttons;
			var content=$.editable.types[settings.type].content||$.editable.types['defaults'].content;
			var element=$.editable.types[settings.type].element||$.editable.types['defaults'].element;
			var reset=$.editable.types[settings.type].reset||$.editable.types['defaults'].reset;var callback=settings.callback||function(){};
			var onedit=settings.onedit||function(){};var onsubmit=settings.onsubmit||function(){};var onreset=settings.onreset||function(){};
			var onerror=settings.onerror||reset;if(settings.tooltip){$(this).attr('title',settings.tooltip);}
			settings.autowidth='auto'==settings.width;settings.autoheight='auto'==settings.height;return this.each(function(){var self=this;
			    var savedwidth=$(self).width();var savedheight=$(self).height();$(this).data('event.editable',settings.event);
			    if(!$.trim($(this).html())){$(this).html(settings.placeholder);}
			$(this).bind(settings.event,function(e){if(true===$(this).data('disabled.editable')){return;}
			if(self.editing){return;}
			if(false===onedit.apply(this,[settings,self])){return;}
			e.preventDefault();e.stopPropagation();if(settings.tooltip){$(self).removeAttr('title');}
			if(0==$(self).width()){settings.width=savedwidth;settings.height=savedheight;}else{if(settings.width!='none')
			{settings.width=settings.autowidth?$(self).width():settings.width;}
			if(settings.height!='none'){settings.height=settings.autoheight?$(self).height():settings.height;}}
			if($(this).html().toLowerCase().replace(/(;|")/g,'')==settings.placeholder.toLowerCase().replace(/(;|")/g,'')){$(this).html('');}
			self.editing=true;self.revert=$(self).html();$(self).html('');var form=$('<form />');if(settings.cssclass){
			    if('inherit'==settings.cssclass){form.attr('class',$(self).attr('class'));}else{form.attr('class',settings.cssclass);}}
			if(settings.style){if('inherit'==settings.style){form.attr('style',$(self).attr('style'));form.css('display',$(self).css('display'));}
			else{form.attr('style',settings.style);}}
			var input=element.apply(form,[settings,self]);var input_content;if(settings.loadurl){var t=setTimeout(function(){input.disabled=true;
			    content.apply(form,[settings.loadtext,settings,self]);},100);var loaddata={};loaddata[settings.id]=self.id;
			    if($.isFunction(settings.loaddata)){$.extend(loaddata,settings.loaddata.apply(self,[self.revert,settings]));}
			    else{$.extend(loaddata,settings.loaddata);}
			$.ajax({type:settings.loadtype,url:settings.loadurl,data:loaddata,async:false,success:function(result){window.clearTimeout(t);
			    input_content=result;input.disabled=false;}});}else if(settings.data){input_content=settings.data;
			        if($.isFunction(settings.data)){input_content=settings.data.apply(self,[self.revert,settings]);}}else{input_content=self.revert;}
			content.apply(form,[input_content,settings,self]);input.attr('name',settings.name);buttons.apply(form,[settings,self]);
			$(self).append(form);plugin.apply(form,[settings,self]);$(':input:visible:enabled:first',form).focus();if(settings.select){input.select();}
			input.keydown(function(e){if(e.keyCode==27){e.preventDefault();reset.apply(form,[settings,self]);}});var t;
			if('cancel'==settings.onblur){input.blur(function(e){t=setTimeout(function(){reset.apply(form,[settings,self]);},500);});}else if('submit'==settings.onblur){input.blur(function(e){t=setTimeout(function(){form.submit();},200);});}else if($.isFunction(settings.onblur)){input.blur(function(e){settings.onblur.apply(self,[input.val(),settings]);});}else{input.blur(function(e){});}
			form.submit(function(e){if(t){clearTimeout(t);}
			e.preventDefault();if(false!==onsubmit.apply(form,[settings,self])){if(false!==submit.apply(form,[settings,self])){if($.isFunction(settings.target)){var str=settings.target.apply(self,[input.val(),settings]);$(self).html(str);self.editing=false;callback.apply(self,[self.innerHTML,settings]);if(!$.trim($(self).html())){$(self).html(settings.placeholder);}}else{var submitdata={};submitdata[settings.name]=input.val();submitdata[settings.id]=self.id;if($.isFunction(settings.submitdata)){$.extend(submitdata,settings.submitdata.apply(self,[self.revert,settings]));}else{$.extend(submitdata,settings.submitdata);}
			if('PUT'==settings.method){submitdata['_method']='put';}
			$(self).html(settings.indicator);var ajaxoptions={type:'POST',data:submitdata,dataType:'html',url:settings.target,success:function(result,status){if(ajaxoptions.dataType=='html'){$(self).html(result);}
			self.editing=false;callback.apply(self,[result,settings]);if(!$.trim($(self).html())){$(self).html(settings.placeholder);}},error:function(xhr,status,error){onerror.apply(form,[settings,self,xhr]);}};$.extend(ajaxoptions,settings.ajaxoptions);$.ajax(ajaxoptions);}}}
			$(self).attr('title',settings.tooltip);return false;});});this.reset=function(form){if(this.editing){if(false!==onreset.apply(form,[settings,self])){$(self).html(self.revert);self.editing=false;if(!$.trim($(self).html())){$(self).html(settings.placeholder);}
			if(settings.tooltip){$(self).attr('title',settings.tooltip);}}}};});};$.editable={types:{defaults:{element:function(settings,original){var input=$('<input type="hidden"></input>');$(this).append(input);return(input);},content:function(string,settings,original){$(':input:first',this).val(string);},reset:function(settings,original){original.reset(this);},buttons:function(settings,original){var form=this;if(settings.submit){if(settings.submit.match(/>$/)){var submit=$(settings.submit).click(function(){if(submit.attr("type")!="submit"){form.submit();}});}else{var submit=$('<button type="submit" />');submit.html(settings.submit);}
			$(this).append(submit);}
			if(settings.cancel){if(settings.cancel.match(/>$/)){var cancel=$(settings.cancel);}else{var cancel=$('<button type="cancel" />');cancel.html(settings.cancel);}
			$(this).append(cancel);$(cancel).click(function(event){if($.isFunction($.editable.types[settings.type].reset)){var reset=$.editable.types[settings.type].reset;}else{var reset=$.editable.types['defaults'].reset;}
			reset.apply(form,[settings,original]);return false;});}}},text:{element:function(settings,original){var input=$('<input />');if(settings.width!='none'){input.width(settings.width);}
			if(settings.height!='none'){input.height(settings.height);}
			input.attr('autocomplete','off');$(this).append(input);return(input);}},textarea:{element:function(settings,original){var textarea=$('<textarea />');if(settings.rows){textarea.attr('rows',settings.rows);}else if(settings.height!="none"){textarea.height(settings.height);}
			if(settings.cols){textarea.attr('cols',settings.cols);}else if(settings.width!="none"){textarea.width(settings.width);}
			$(this).append(textarea);return(textarea);}},select:{element:function(settings,original){var select=$('<select />');$(this).append(select);return(select);},content:function(data,settings,original){if(String==data.constructor){eval('var json = '+data);}else{var json=data;}
			for(var key in json){if(!json.hasOwnProperty(key)){continue;}
			if('selected'==key){continue;}
			var option=$('<option />').val(key).append(json[key]);$('select',this).append(option);}
			$('select',this).children().each(function(){if($(this).val()==json['selected']||$(this).text()==$.trim(original.revert)){$(this).attr('selected','selected');}});}}},addInputType:function(name,input){$.editable.types[name]=input;}};$.fn.editable.defaults={name:'value',id:'id',type:'text',width:'auto',height:'auto',event:'click.editable',onblur:'cancel',loadtype:'GET',loadtext:'Loading...',placeholder:'Click to edit',loaddata:{},submitdata:{},ajaxoptions:{}};})(jQuery);
			
<?if( $_SESSION['pw'] == $pw):?>
$.editable.addInputType('noMal', {
	element:function(settings,original){
		var input = $('<input type="text">').autoGrowInput();
		//var input = $('<input type="text">');
		$(this).append(input);
		return(input);
	},
	content : function(string, settings, original) { 
		string = rhtmlspecialchars(string);
		$(this).children().val(string);
	},
	submit:function(settings, original){
		$("input", this).val($("input", this).val());

	}
});
function rhtmlspecialchars(str) {
	if (typeof(str) == "string") {
		str = str.replace(/&gt;/ig, ">");
		str = str.replace(/&lt;/ig, "<");
		str = str.replace(/&#039;/g, "'");
		str = str.replace(/&quot;/ig, '"');
		str = str.replace(/&amp;/ig, '&'); /* must do &amp; last */
	}
	return str;
}
function update(callbackFnk){
	var newJayson = [];
	$("#sivi").children().each(function(k, v){
		newJayson[k] = {"header":$(this).attr("id"), "data":[]};
		$(v).children("li").each(function(kk, vv){
			newJayson[k].data[kk] = [];
			$(vv).children().children(".field").each(function(kkk,vvv){
				newJayson[k].data[kk].push($(vvv).html());			
			});
		});
	});
	$.post("indexx.php", {newJSON:newJayson}, function(data){
		console.log(data);
	});
	jayson = newJayson;	
	if(typeof callbackFnk == 'function'){
		callbackFnk.call(this, newJayson);
	}
}
function refresh() {
//sivi div to hold all
var sivi = $("<ul>").attr("id", "sivi").sortable({
handle:".bigHandle",
items:"ul",
update:function(){update();}
});
$(jayson).each(function(kkkk,vvvv){
//ul of items to be sortable
var hDiv = $("<ul>").attr("id", vvvv.header).sortable({
	handle:".handle",
	items:"li:not(a)",
	update:function(){update();}
});
//ul header
hHead = addHead(vvvv.header);
hDiv.prepend($("<img>").css("cursor","move").attr("src","data:image/png;base64,<?echo$drag;?>").addClass("bigHandle"));
hDiv.append(hHead);
$(vvvv.data).each(function(k,v){
	var iDiv = $("<li>").attr("id", k);
	iDiv.append($("<img>").addClass("handle").css("cursor","move").attr("src","data:image/png;base64,<?echo$drag;?>"));
	$(v).each(function(kk,vv){
			fSpan = addFspan(kk).html(vv);
			var xImg = deleteField();
			fDiv = $("<span>").append(fSpan).append(xImg);
			iDiv.append(fDiv);
		});
		//new field button
		addB = addButton();
		//delete whole line
		delB = $("<button>").html("-").click(function(){
			$(this).parent().hide("slow", function(){
				$(this).remove();
				update();
			});
		});
		iDiv.append(addB);
		iDiv.append(delB);
		hDiv.append(iDiv);	
	});
	var addRow = addRowFnk();
	delDiv = $("<button>").html("-").click(function(){
		if(confirm("Delete the whole block?")){
		$(this).parent().fadeOut("slow", function(){
			$(this).remove();
			update();
		})}
	});
	hDiv.append(addRow);
	hDiv.append(delDiv);
	$(sivi).append(hDiv);
});
addNewBlock = $("<button>").html("++").click(function(){
var hDiv = $("<ul>").attr("id", "NEW").sortable({
	handle:".handle",
	items:"li:not(a)",
	update:function(){update();}
});
//ul header
hHead = addHead("NEW");
hDiv.prepend($("<img>").css("cursor","move").attr("src","data:image/png;base64,<?echo$drag;?>").addClass("bigHandle"));
hDiv.append(hHead);
var addRow = addRowFnk();
delDiv = $("<button>").html("-").click(function(){
	if(confirm("Delete the whole block?")){
	$(this).parent().fadeOut("slow", function(){
		$(this).remove();
		update();
	});}
});
hDiv.append(addRow);
hDiv.append(delDiv);
$(sivi).prepend(hDiv);
});
$(".content").html(sivi).prepend(addNewBlock);
}
	addHead = function(html){
	return	$("<h1>").html(html)
	.css("display","inline-block")
	.addClass("editbox")
	.editable(function(value,setting){
		$(this).parent().attr("id",value);
		return value;
	},
	{
		onblur:"submit",
		type:"noMal",
		placeholder:"Header",
		indicator:"saving",
		style:"inherit",
		callback:function(){update();}
	});
}
addFspan = function(id){
	return $("<span>").attr("id", id).addClass("field")
	.addClass("editbox")
	.editable(function(value,settings){
		return value;
	},
	{
		onblur:"submit",
		type:"noMal",
		placeholder:"Empty",
		indicator:"saving",
		style:"inherit",
		callback:function(){update();}
	});
}
addRowFnk = function(){
	return $("<button>").html("+").click(function(){
		var num = $(this).parent().children("li").length;
		var iDiv = $("<li>").attr("id", num);
		iDiv.append($("<img>").addClass("handle").css("cursor","move").attr("src","data:image/png;base64,<?echo$drag;?>"));
		var fSpan = addFspan(0);
		//delete field button
		var xImg = deleteField();
		var nuDiv = $("<span>").append(fSpan).append(xImg);
		addB = addButton();
		//delete whole line
		delB = $("<button>").html("-").click(function(){
			$(this).parent().hide("slow", function(){
				$(this).remove();
				update();
			});
		});
		iDiv.append(nuDiv);
		iDiv.append(addB);
		iDiv.append(delB);
		$(this).before(iDiv);
		update();
	});
}
addButton = function(){
	return $("<button>").html("+").click(function(){	
		var num;
		num = $(this).siblings().length - 1;
		var fSpan = addFspan(num);
		//delete field button
		var xImg = deleteField();
		var nuDiv = $("<span>").append(fSpan).append(xImg);
		$(this).before(nuDiv);
		update();
	});
}
deleteField = function(){
	return $("<img>").css("cursor","pointer").css("position", "relative").css("top", "-10px").attr("src","data:image/png;base64,<?echo$x;?>").click(function(){
			$(this).parent().fadeOut("slow", function(){
				$(this).remove();
				update();
			});
		
	});
}
<?endif;?>
function plainPrint(){
	var all = $("<div>").addClass("content");
	$(jayson).each(function(k,v){
		var block = $("<div>").addClass("divBlock");
	//	if(v.header == "css"){return;}
		var h1 = $("<h1>").html(v.header);
		block.append(h1);
		$(v.data).each(function(kk, vv){
			var line = $("<div>").addClass("divLine");
			$(vv).each(function(kkk, vvv){
				
				line.append(vvv);
				if(kkk < vv.length-1){
					line.append(" - ");
				}
			});
			block.append(line);
		});
		all.append(block);
	});
	$(".content").replaceWith(all);
}
$(document).ready(function(){
	<?if( $_SESSION['pw'] == $pw):?>
plainPrint();
		$('span.editbox').bind('keydown', function(evt) {
		    if(evt.keyCode==9) {
		        $(this).find("input").blur();
		        var nextBox='';
		         if ($("span.editbox").index(this) == ($("span.editbox").length-1)) {
		                nextBox=$("span.editbox:first");         //last box, go to first
		            } else {
		                nextBox=$(this).next("span.editbox");    //Next box in line
		            }
		        $(nextBox).dblclick();  //Go to assigned next box
		        return false;           //Suppress normal tab
		    };
		});
	<?else:?>
		plainPrint();
	<?endif;?>

	$("#plain").click(function(){
		plainPrint();
	})
	$("#edit").click(function(){
		refresh();
	})

});
</script>
		<style>
		.divLine{
			margin-left:100px;
		}
		.divBlock{
			margin-left:50px;
		}
		.bigHandle{
			height:25px;
		}
		li{
									list-style-type: none;

		}
		body{
			font-family:arial black;
		}
		button{
			border:1px solid black;
		}
		.content{
			max-width:900px;
			min-width:100px;
			padding:20px;
			margin:0px auto;
			background:#F5FCCB;
		}
		.field{
			margin:0 5px 0 5px;
		}
		</style>
		</head>
		<body>
		<div class="header">
		<button id="plain">PLAIN</button>
		<button id="edit">EDIT</button>
		</div>
		<div class="content">
		</div>
		<script>

					</script>
					</body>
					</html>